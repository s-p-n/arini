#!/usr/bin/env node
"use strict";global.__scopedir=__dirname;require("source-map-support").install();if(typeof global.scope==="undefined"){Object.defineProperty(global,"scope",{value:require("/home/spence/Projects/scope/lib/scopeRuntime.js")});Object.defineProperty(global,"ScopeApi",{value:require("/home/spence/Projects/scope/lib/scopeRuntimeApi.js")(scope)});Object.defineProperty(global,"XRegExp",{value:require("xregexp")});}module.exports=scope.createScope(function(args){scope.declarationExpression({type:"let",name:"examples",value:scope.arrayExpression()});scope.assignmentExpression(["examples"],["[]=",scope.createScope(function(args){scope.declarationExpression({type:"public",name:"number",value:42});scope.declarationExpression({type:"let",name:"opposite",value:true});scope.assignmentExpression(["number"],["=",ScopeApi['if'](scope.identifier("opposite"),-42)]);scope.declarationExpression({type:"let",name:"square",value:scope.createScope(function(args){scope.declarationExpression({type:"let",name:"x",value:args[0]===undefined?0:args[0]});return scope.binaryExpression("*",scope.identifier("x"),scope.identifier("x"));})});scope.declarationExpression({type:"public",name:"list",value:scope.arrayExpression(1,2,3,4,5)});ScopeApi.print(scope.identifier("list"));scope.declarationExpression({type:"let",name:"math",value:scope.mapExpression(["root",scope.identifier("Math")["sqrt"]],["square",scope.identifier("square")],["cube",scope.createScope(function(args){scope.declarationExpression({type:"let",name:"x",value:args[0]===undefined?0:args[0]});return scope.binaryExpression("*",scope.identifier("x"),scope.identifier("square")(scope.identifier("x")));})])});ScopeApi['if'](scope.identifier("elvis"),scope.createScope(function(args){ScopeApi.print("I knew it!");}));scope.declarationExpression({type:"public",name:"cubes",value:ScopeApi['each'](scope.identifier("list"),scope.identifier("math")["cube"])});ScopeApi.print(scope.identifier("cubes"));return scope.arrayExpression(scope.identifier("number"),scope.identifier("list"),scope.identifier("cubes"));})]);scope.declarationExpression({type:"let",name:"result",value:scope.identifier("examples")["call"]()});ScopeApi.print(scope.identifier("result"));return scope.identifier("result");})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NwZW5jZS9Qcm9qZWN0cy9zY29wZS90ZXN0L3Njb3BlU3JjL2Jhc2ljcy5zYyJdLCJuYW1lcyI6WyJyb290LT5yb290Iiwicm9vdC0+cm9vdC0+cm9vdCIsInJvb3QtPmRlY2xhcmF0aW9uRXhwcmVzc2lvbiIsInJvb3QtPmV4YW1wbGVzIiwicm9vdC0+YXJyYXlTdGFydC0+YXJyYXlTdGFydCIsInJvb3QtPmVtcHR5TWFwRXhwcmVzc2lvbiIsInJvb3QtPmFzc2lnbm1lbnRFeHByZXNzaW9uIiwicm9vdC0+aWRlbnRpZmllciIsInJvb3QtPmFzc2lnbm1lbnRWYWx1ZSIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQiLCJyb290LT5zY29wZVN0YXJ0LT5kZWNsYXJhdGlvbkV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5udW1iZXIiLCJyb290LT5zY29wZVN0YXJ0LT5udW1lcmljTGl0ZXJhbCIsInJvb3QtPnNjb3BlU3RhcnQtPm9wcG9zaXRlIiwicm9vdC0+c2NvcGVTdGFydC0+Ym9vbGVhbkxpdGVyYWwiLCJyb290LT5zY29wZVN0YXJ0LT5hc3NpZ25tZW50RXhwcmVzc2lvbiIsInJvb3QtPnNjb3BlU3RhcnQtPmlkZW50aWZpZXIiLCJyb290LT5zY29wZVN0YXJ0LT5hc3NpZ25tZW50VmFsdWUiLCJyb290LT5zY29wZVN0YXJ0LT5pbnZva2VFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+ZXhwcmVzc2lvbkxpc3QiLCJyb290LT5zY29wZVN0YXJ0LT51bmFyeUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5zcXVhcmUiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0Iiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+cmV0dXJuRXhwcmVzc2lvbiIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQtPmJpbmFyeUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5pZGVudGlmaWVyIiwicm9vdC0+c2NvcGVTdGFydC0+bGlzdCIsInJvb3QtPnNjb3BlU3RhcnQtPmFycmF5U3RhcnQtPmFycmF5U3RhcnQiLCJyb290LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5udW1lcmljTGl0ZXJhbCIsInJvb3QtPnNjb3BlU3RhcnQtPmFycmF5U3RhcnQtPmV4cHJlc3Npb25MaXN0Iiwicm9vdC0+c2NvcGVTdGFydC0+YXJyYXlFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+bWF0aCIsInJvb3QtPnNjb3BlU3RhcnQtPm1hcEV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5hc3NvY2lhdGl2ZURlY2xhcmF0aW9uIiwicm9vdC0+c2NvcGVTdGFydC0+YXJyYXlTdGFydC0+aWRlbnRpZmllciIsInJvb3QtPnNjb3BlU3RhcnQtPmFycmF5U3RhcnQtPmFzc29jaWF0aXZlTGlzdCIsInJvb3QtPnNjb3BlU3RhcnQtPmFycmF5U3RhcnQtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQiLCJyb290LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5zY29wZUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5zY29wZVN0YXJ0LT5yZXR1cm5FeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+YXJyYXlTdGFydC0+c2NvcGVTdGFydC0+YmluYXJ5RXhwcmVzc2lvbiIsInJvb3QtPnNjb3BlU3RhcnQtPmFycmF5U3RhcnQtPnNjb3BlU3RhcnQtPmlkZW50aWZpZXIiLCJyb290LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5zY29wZVN0YXJ0LT5pbnZva2VFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+aW52b2tlRXhwcmVzc2lvbiIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQtPnN0cmluZ0xpdGVyYWwiLCJyb290LT5zY29wZVN0YXJ0LT5jdWJlcyIsInJvb3QtPnNjb3BlU3RhcnQtPnJldHVybkV4cHJlc3Npb24iLCJyb290LT5zY29wZUV4cHJlc3Npb24iLCJyb290LT5yZXN1bHQiLCJyb290LT5pbnZva2VFeHByZXNzaW9uIiwicm9vdC0+cmV0dXJuRXhwcmVzc2lvbiJdLCJtYXBwaW5ncyI6IkFBNENhQTtBQUFBQSx5YUFBQUMsaUNBM0NHQyw2Q0FBWkMsVUFBWUQsT0FBQUUsc0JBQUFDLENBQUFILEVBQUFGLENBc0NZTSw0QkFuQ3BCQyxVQW1Db0JELEVBQUFFLE9BaEMzQkMsaUNBQWtCQyxnREFBWEMsUUFBV0QsT0FBQUUsRUFBQUYsRUFBQUQsQ0FDQ0MsNkNBQWZHLFVBQWVILE9BQUFJLElBQUFKLEVBQUFELENBR01NLDRCQUFsQkMsUUFBa0JELEVBQUFFLEtBQWRELGNBQWNFLENBQUxGLDRCQUFLRyxDQUFBQyxDQUFBUixFQUFBTSxDQUFBRCxDQUFBRixDQUFBTixDQUdRQyw2Q0FBN0JXLFFBQTZCWCxPQUFaWSxpQ0FBWUMsdUZBQUFDLE9BQUFDLDJCQUFIQyxxQkFBR0QsQ0FBQUMscUJBQUFELENBQUFILENBQUFDLEVBQUFiLEVBQUFELENBR0xDLGdEQUFyQmlCLE1BQXFCakIsT0FBYmtCLHNCQUFDQyxDQUFZQyxDQUFURCxDQUFTQyxDQUFORCxDQUFNQyxDQUFIRCxDQUFHQyxDQUFBRCxDQUFBRSxDQUFBckIsRUFBQUQsQ0FDdkJPLGNBQUtFLENBQUFGLHdCQUFBRSxDQUFBVCxDQU13QkMsNkNBSDlCc0IsTUFHOEJ0QixPQUFBdUIsb0JBRnZCQyxRQUFBQyxnQ0FBQUQsQ0FDSUUsQ0FBQUYsVUFBQUMsMEJBQUFELENBQ21CRSxDQUFBRixRQUFuQkcsaUNBQW1CQyx1RkFBQUMsT0FBQUMsMkJBQVZDLHFCQUFVRCxDQUFGQywwQkFBRUMsQ0FBQUQscUJBQUFDLENBQUFGLENBQUFILENBQUFDLEVBQUFKLENBQUFELENBQUF2QixFQUFBRCxDQVNoQ08sY0FBMkJFLENBQXJCRix5QkFBcUJHLENBQWxCRyxpQ0FBS0ksY0FBYWlCLENBQUFDLFlBQUFELENBQUFyQixDQUFBQyxFQUFBTCxDQUFBVCxDQUdDQyxnREFBdkJtQyxPQUF1Qm5DLE9BQVhNLGdCQUFXRSxDQUFORix3QkFBTUcsQ0FBQUgsZ0NBQUFFLENBQUFSLEVBQUFELENBQ3pCTyxjQUFNRSxDQUFBRix5QkFBQUUsQ0FBQVQsQ0FFZ0JxQyxPQUFuQmxCLHNCQUFNTywwQkFBYUwsQ0FBUEssd0JBQU9MLENBQUFLLHlCQUFBSixDQUFBdEIsQ0FBQXNDLEVBQUF2QyxDQUFBRixDQUFBTixDQUdERSw2Q0FBdkI4QyxRQUF1QjlDLE9BQU5LLG9DQUFNMEMsRUFBQS9DLEVBQUFGLENBQ3RCTyxjQUFPMEMsQ0FBQTFDLDBCQUFBMEMsQ0FBQWpELENBQ0NrRCxPQUFBM0MsMEJBQUFQIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZGVjbGFyZSBgZXhhbXBsZXNgIGFzIGEgbnVtZXJpYyBtYXAuXG5sZXQgZXhhbXBsZXMgPSBbXTtcblxuLy8gY3JlYXRlIG5ldyBpbmRleCBhbmQgYXNzaWduIHRvIHRoaXMgc2NvcGUuXG5leGFtcGxlc1tdID0ge1xuXG5cdC8vIEFzc2lnbm1lbnQ6XG5cdHB1YmxpYyBudW1iZXIgPSA0Mjtcblx0bGV0IG9wcG9zaXRlID0gdHJ1ZTtcblxuXHQvLyBDb25kaXRpb25zOlxuXHRudW1iZXIgPSBpZihvcHBvc2l0ZSwgLTQyKTtcblxuXHQvLyBGdW5jdGlvbnM6XG5cdGxldCBzcXVhcmUgPSAoeDogMCkge3JldHVybiB4ICogeDt9O1xuXG5cdC8vIEFycmF5czpcblx0cHVibGljIGxpc3QgPSBbMSwgMiwgMywgNCwgNV07XG5cdHByaW50KGxpc3QpO1xuXG5cdC8vIE1hcHM6XG5cdGxldCBtYXRoID0gW1xuXHRcdHJvb3Q6IE1hdGguc3FydCxcblx0XHRzcXVhcmU6IHNxdWFyZSxcblx0XHRjdWJlOiAoeDogMCkge3JldHVybiB4ICogc3F1YXJlKHgpO31cblx0XTtcblxuXHQvLyBSZXN0IFBhcmFtZXRlcnM6XG5cdC8vbGV0IHJhY2UgPSAod2lubmVyLCAuLi5ydW5uZXJzKSB7XG5cdC8vXHRwcmludCh3aW5uZXIsIHJ1bm5lcnMpO1xuXHQvL307XG5cblx0Ly8gRXhpc3RlbmNlOlxuXHRpZihlbHZpcywge3ByaW50KFwiSSBrbmV3IGl0IVwiKTt9KTtcblxuXHQvLyBBcnJheSBjb21wcmVoZW5zaW9uXG5cdHB1YmxpYyBjdWJlcyA9IGVhY2gobGlzdCwgbWF0aC5jdWJlKTtcblx0cHJpbnQoY3ViZXMpO1xuXHRcblx0cmV0dXJuIFtudW1iZXIsIGxpc3QsIGN1YmVzXTtcbn07XG5cbmxldCByZXN1bHQgPSBleGFtcGxlcy5jYWxsKCk7XG5wcmludChyZXN1bHQpO1xucmV0dXJuIHJlc3VsdDsiXX0=