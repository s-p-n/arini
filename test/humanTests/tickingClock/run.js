#!/usr/bin/env node
"use strict";global.__scopedir=__dirname;require("source-map-support").install();const scope=require("/home/spence/Projects/scope/lib/scopeRuntime.js");const ScopeApi=require("/home/spence/Projects/scope/lib/scopeRuntimeApi.js")(scope);module.exports=scope.createScope(function(args){scope.declarationExpression({type:"let",name:"server",value:scope.import("/home/spence/Projects/scope/packages/serve/main.js")()});scope.identifier("server")["get"]("/",scope.createScope(function(args){scope.declarationExpression({type:"let",name:"client",value:args[0]===undefined?scope.arrayExpression():args[0]});scope.identifier("client")["response"]["render"](scope.identifier("site"));}));scope.identifier("server")["listen"](scope.mapExpression(["port",8080],["clientScope",true]),scope.createScope(function(args){ScopeApi.print("Server running on port 8080");}));scope.declarationExpression({type:"let",name:"multiPatterns",value:scope.mapExpression(["letters",/[a-zA-Z]+/],["numbers",/[0-9]+/],["special",/[^a-zA-Z0-9]/])});scope.declarationExpression({type:"let",name:"clock",value:scope.createScope(function(args){scope.declarationExpression({type:"let",name:"render",value:scope.createScope(function(args){scope.declarationExpression({type:"let",name:"time",value:scope.identifier("Reflect")["construct"](scope.identifier("Date"),scope.arrayExpression())["toLocaleTimeString"]()});scope.declarationExpression({type:"let",name:"element",value:scope.xmlExpression("div",{},scope.xmlExpression("h1",{},"Hello, World!"),scope.xmlExpression("h2",{},scope.binaryExpression("+",scope.binaryExpression("+","It is ",scope.identifier("time")),".")))});scope.identifier("jQuery")("#clock")["html"](scope.identifier("element"));})});scope.identifier("setInterval")(scope.identifier("render"),1000);scope.identifier("render")();})});ScopeApi.print("foo",scope.identifier("multiPatterns")["test"]("foo"),scope.binaryExpression("/",5,2));scope.declarationExpression({type:"let",name:"site",value:scope.xmlExpression("html",{},scope.xmlExpression("head",{},scope.xmlExpression("title",{},"Ticking Clock")),scope.xmlExpression("body",{"onload":scope.identifier("clock")},scope.xmlExpression("div",{"id":"clock"})))});})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NwZW5jZS9Qcm9qZWN0cy9zY29wZS90ZXN0L2h1bWFuVGVzdHMvdGlja2luZ0Nsb2NrL3J1bi5zYyJdLCJuYW1lcyI6WyJyb290LT5yb290Iiwicm9vdC0+cm9vdC0+cm9vdCIsInJvb3QtPmRlY2xhcmF0aW9uRXhwcmVzc2lvbiIsInJvb3QtPnNlcnZlciIsInJvb3QtPmltcG9ydEV4cHJlc3Npb24iLCJyb290LT5pbnZva2VFeHByZXNzaW9uIiwicm9vdC0+aWRlbnRpZmllciIsInJvb3QtPnN0cmluZ0xpdGVyYWwiLCJyb290LT5leHByZXNzaW9uTGlzdCIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQiLCJyb290LT5zY29wZUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5pZGVudGlmaWVyIiwicm9vdC0+c2NvcGVTdGFydC0+aW52b2tlRXhwcmVzc2lvbiIsInJvb3QtPm1hcEV4cHJlc3Npb24iLCJyb290LT5hcnJheVN0YXJ0LT5hc3NvY2lhdGl2ZURlY2xhcmF0aW9uIiwicm9vdC0+YXJyYXlTdGFydC0+bnVtZXJpY0xpdGVyYWwiLCJyb290LT5hcnJheVN0YXJ0LT5hc3NvY2lhdGl2ZUxpc3QiLCJyb290LT5hcnJheVN0YXJ0LT5ib29sZWFuTGl0ZXJhbCIsInJvb3QtPnNjb3BlU3RhcnQtPnN0cmluZ0xpdGVyYWwiLCJyb290LT5tdWx0aVBhdHRlcm5zIiwicm9vdC0+YXJyYXlTdGFydC0+cmVnZXhMaXRlcmFsIiwicm9vdC0+Y2xvY2siLCJyb290LT5zY29wZVN0YXJ0LT5kZWNsYXJhdGlvbkV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5yZW5kZXIiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0Iiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+ZGVjbGFyYXRpb25FeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+dGltZSIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQtPmlkZW50aWZpZXIiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5pbnZva2VFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+ZXhwcmVzc2lvbkxpc3QiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5hcnJheVN0YXJ0LT5hcnJheVN0YXJ0Iiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+ZW1wdHlNYXBFeHByZXNzaW9uIiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+aW52b2tlSWQiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT5lbGVtZW50Iiwicm9vdC0+c2NvcGVTdGFydC0+c2NvcGVTdGFydC0+eG1sRXhwcmVzc2lvbiIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQtPnN0cmluZ0xpdGVyYWwiLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZVN0YXJ0LT54bWxDb250cm9sQ29kZSIsInJvb3QtPnNjb3BlU3RhcnQtPnNjb3BlU3RhcnQtPmJpbmFyeUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5zY29wZUV4cHJlc3Npb24iLCJyb290LT5zY29wZVN0YXJ0LT5leHByZXNzaW9uTGlzdCIsInJvb3QtPnNjb3BlU3RhcnQtPm51bWVyaWNMaXRlcmFsIiwicm9vdC0+YmluYXJ5RXhwcmVzc2lvbiIsInJvb3QtPm51bWVyaWNMaXRlcmFsIiwicm9vdC0+c2l0ZSIsInJvb3QtPnhtbEV4cHJlc3Npb24iLCJyb290LT54bWxDb250cm9sQ29kZSIsInJvb3QtPnhtbEF0dHJpYnV0ZXMiXSwibWFwcGluZ3MiOiJBQW9DTUE7QUFBQUEsMlBBQUFDLGlDQXBDc0JDLDZDQUF4QkMsUUFBd0JELE9BQURFLGtFQUFDQyxFQUFBSCxFQUFBRixDQUV0Qk0saUNBQ3NCRCxDQURkRSxHQUNjQyxDQUEzQkMsaUNBQTJCQyxrSEFBckJDLGdEQUFxQkMsQ0FBQUQsd0JBQUFDLENBQUFILENBQUFDLEVBQUFMLENBQUFMLENBR3RCTSxvQ0FDOEJELENBRFFRLG9CQUFuQkMsUUFBQUMsSUFBQUQsQ0FBbUJFLENBQUFGLGVBQUFHLElBQUFILENBQUFELENBQ1JMLENBQW5DQyxpQ0FBS0UsY0FBOEJDLENBQUFNLDZCQUFBTixDQUFBSCxDQUFBQyxFQUFBTCxDQUFBTCxDQU1wQ0UsNkNBSklpQixlQUlKakIsT0FBQVcsb0JBSHVCQyxXQUFBTSxXQUFBTixDQUNIRSxDQUFBRixXQUFBTSxRQUFBTixDQUVwQkUsQ0FBQUYsV0FBQU0sY0FBQU4sQ0FBQUQsQ0FBQVgsRUFBQUYsQ0FZUUUsNkNBWEptQixPQVdJbkIsT0FWUE8saUNBTThCYSw2Q0FOMUJDLFFBTTBCRCxPQUw3QkUsaUNBQTBEQyw2Q0FBdERDLE1BQXNERCxPQUF4Q0Usd0NBQWtCQyxDQUFIRCx3QkFBR0UsQ0FBQUMsc0JBQUFDLENBQUFILENBQXFCSSxFQUFBTCxrQkFBQUssRUFBQ0osRUFBQUgsRUFBQUQsQ0FJckRDLDZDQUhEUSxTQUdDUixPQUFBUyxxQkFIYVAsR0FHYk8sS0FGb0JBLHFCQUFyQlAsRUFBcUJPLEtBQUxDLGVBQUtELENBQUFFLENBQ01GLHFCQUEzQlAsRUFBMkJPLEtBQUxHLDJCQUFMQSwyQkFBUEYsUUFBT0UsQ0FBQVYsd0JBQUFVLENBQUtBLENBQUFGLEdBQUFFLENBQUtILENBQzFCQSxDQUFBVCxFQUFBRCxDQUNDRywwQkFBU0MsQ0FBQU8sUUFBQVAsQ0FBTUksRUFBQUwsSUFBQUssRUFBUUosQ0FBQUQsMkJBQUFDLENBQUFKLENBQUFjLEVBQUFoQixFQUFBYixDQUduQkUsK0JBQWFDLENBQU5ELDBCQUFNNEIsQ0FBQUMsSUFBQTVCLENBQUFILENBQ2xCRSwwQkFBQ0MsRUFBQUgsQ0FBQUMsRUFBQVIsRUFBQUYsQ0FFSE0sY0FBc0NELENBQWhDRSxLQUFnQ0MsQ0FBakJGLHlDQUFXRCxDQUFBRSxLQUFBRixDQUFNRyxDQUFBaUMsMkJBQUZDLENBQUVELENBQUFDLENBQUFELENBQUFwQyxDQUFBTCxDQVNyQ0UsNkNBUkZ5QyxNQVFFekMsT0FBQTBDLHFCQVBEdEMsSUFPQ3NDLEtBSkNBLHFCQUZEdEMsSUFFQ3NDLEtBRHlCQSxxQkFBeEJ0QyxLQUF3QnNDLEtBQVJyQyxlQUFRcUMsQ0FDekJBLENBQUFDLENBR0FELHFCQUZBdEMsSUFFQXNDLEdBRllFLFNBQUF4Qyx5QkFFWnNDLEVBRFdBLHFCQUFYdEMsR0FBV3NDLEdBQUFFLEtBQUF2QyxPQUFBcUMsRUFDWEEsQ0FDREEsQ0FBQTFDLEVBQUFGIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNlcnZlciA9IGltcG9ydCBcInNlcnZlXCIoKTtcblxuc2VydmVyLmdldChcIi9cIiwgKGNsaWVudDogW10pIHtcblx0Y2xpZW50LnJlc3BvbnNlLnJlbmRlcihzaXRlKTtcbn0pO1xuXG5zZXJ2ZXIubGlzdGVuKFtwb3J0OiA4MDgwLCBjbGllbnRTY29wZTogdHJ1ZV0sIHtcblx0cHJpbnQoXCJTZXJ2ZXIgcnVubmluZyBvbiBwb3J0IDgwODBcIik7XG59KTtcbmxldCBtdWx0aVBhdHRlcm5zID0gW1xuXHRcImxldHRlcnNcIjogL1thLXpBLVpdKy8sIFxuXHRcIm51bWJlcnNcIjogL1swLTldKy8sIFxuXHRcInNwZWNpYWxcIjogL1teYS16QS1aMC05XS9cbl07XG5sZXQgY2xvY2sgPSB7XG5cdGxldCByZW5kZXIgPSB7XG5cdFx0bGV0IHRpbWUgPSBSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG5cdFx0bGV0IGVsZW1lbnQgPSA8ZGl2PlxuXHRcdFx0PGgxPlwiSGVsbG8sIFdvcmxkIVwiOzwvaDE+O1xuXHRcdFx0PGgyPlwiSXQgaXMgXCIgKyB0aW1lICsgXCIuXCI7PC9oMj47XG5cdFx0PC9kaXY+OyBcblx0XHRqUXVlcnkoJyNjbG9jaycpLmh0bWwoZWxlbWVudCk7XG5cdH07XG5cdFxuXHRzZXRJbnRlcnZhbChyZW5kZXIsIDEwMDApO1xuXHRyZW5kZXIoKTtcbn07XG5wcmludChcImZvb1wiLCBtdWx0aVBhdHRlcm5zLnRlc3QoXCJmb29cIiksIDUvMik7XG5sZXQgc2l0ZSA9IFxuPGh0bWw+XG5cdDxoZWFkPlxuXHRcdDx0aXRsZT5cIlRpY2tpbmcgQ2xvY2tcIjs8L3RpdGxlPjtcblx0PC9oZWFkPjtcblx0PGJvZHkgb25sb2FkPWNsb2NrPlxuXHRcdDxkaXYgaWQ9XCJjbG9ja1wiIC8+O1xuXHQ8L2JvZHk+O1xuPC9odG1sPjsiXX0=