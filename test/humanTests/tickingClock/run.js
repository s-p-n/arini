#!/usr/bin/env node
"use strict";global.__scopedir=__dirname;require("source-map-support").install();const scope=require("/home/spence/Projects/scope/lib/scopeRuntime.js");const ScopeApi=require("/home/spence/Projects/scope/lib/scopeRuntimeApi.js")(scope);module.exports=scope.createScope(function(args){scope.declarationExpression({type:"let",name:"server",value:scope.import("/home/spence/Projects/scope/packages/serve/main.js")()});scope.identifier("server")["get"]("/",scope.createScope(function(args){scope.declarationExpression({type:"let",name:"client",value:args[0]===undefined?scope.mapExpression():args[0]});scope.identifier("client")["response"]["render"](scope.identifier("site"));}));scope.identifier("server")["listen"](scope.mapExpression(["port",8080],["clientScope",true]),scope.createScope(function(args){ScopeApi.print("Server running on port 8080");}));scope.declarationExpression({type:"let",name:"clock",value:scope.createScope(function(args){scope.declarationExpression({type:"let",name:"render",value:scope.createScope(function(args){scope.declarationExpression({type:"let",name:"time",value:scope.identifier("Reflect")["construct"](scope.identifier("Date"),scope.mapExpression())["toLocaleTimeString"]()});scope.declarationExpression({type:"let",name:"element",value:scope.xmlExpression("div",{},scope.xmlExpression("h1",{},"Hello, World!"),scope.xmlExpression("h2",{},scope.binaryExpression('+', scope.binaryExpression('+', "It is ", scope.identifier("time")), ".")))});scope.identifier("jQuery")("#clock")["html"](scope.identifier("element"));})});scope.identifier("setInterval")(scope.identifier("render"),1000);scope.identifier("render")();})});scope.declarationExpression({type:"let",name:"site",value:scope.xmlExpression("html",{},scope.xmlExpression("head",{},scope.xmlExpression("title",{},"Ticking Clock")),scope.xmlExpression("body",{"onload":scope.identifier("clock")},scope.xmlExpression("div",{"id":"clock"})))});})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3NwZW5jZS9Qcm9qZWN0cy9zY29wZS90ZXN0L2h1bWFuVGVzdHMvdGlja2luZ0Nsb2NrL3J1bi5zYyJdLCJuYW1lcyI6WyI8YW5vbnltb3VzZT4iLCJzZXJ2ZXIiLCJzY29wZS5pZGVudGlmaWVyKFwic2VydmVyXCIpLmdldCIsImludm9rZUV4cHJlc3Npb24iLCJjbGllbnQiLCJzY29wZS5pZGVudGlmaWVyKFwiY2xpZW50XCIpLnJlc3BvbnNlIiwic2NvcGUuaWRlbnRpZmllcihcImNsaWVudFwiKVtcInJlc3BvbnNlXCJdLnJlbmRlciIsInNpdGUiLCJzY29wZS5pZGVudGlmaWVyKFwic2VydmVyXCIpLmxpc3RlbiIsInByaW50Il0sIm1hcHBpbmdzIjoiQUE2QmtCQTtBQUFBQSw0UkE3QlVBLG1JQUV0QkMsMEJBQUFDLE9BQ3NCQyxDQURkSCxHQUNjQSxrSkFBckJJLDBCQUFBQyxZQUFBQyxVQUFxQkgsQ0FBQUksd0JBQUFKLENBQUFILEdBQUFHLENBQUFILENBR3RCQywwQkFBQU8sVUFDOEJMLENBRFFILHVEQUNSQSxrQ0FBOUJTLGNBQThCTixDQUFBSCw2QkFBQUcsQ0FBQUgsR0FBQUcsQ0FBQUgsQ0FhNUJBLGl5QkFTVUEsdVJBQUFHLEVBQUFIIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNlcnZlciA9IGltcG9ydCBcInNlcnZlXCIoKTtcblxuc2VydmVyLmdldChcIi9cIiwgKGNsaWVudDogW10pIHtcblx0Y2xpZW50LnJlc3BvbnNlLnJlbmRlcihzaXRlKTtcbn0pO1xuXG5zZXJ2ZXIubGlzdGVuKFtwb3J0OiA4MDgwLCBjbGllbnRTY29wZTogdHJ1ZV0sIHtcblx0cHJpbnQoXCJTZXJ2ZXIgcnVubmluZyBvbiBwb3J0IDgwODBcIik7XG59KTtcblxubGV0IGNsb2NrID0ge1xuXHRsZXQgcmVuZGVyID0ge1xuXHRcdGxldCB0aW1lID0gUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10pLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdGxldCBlbGVtZW50ID0gPGRpdj5cblx0XHRcdDxoMT5cIkhlbGxvLCBXb3JsZCFcIjs8L2gxPjtcblx0XHRcdDxoMj5cIkl0IGlzIFwiICsgdGltZSArIFwiLlwiOzwvaDI+O1xuXHRcdDwvZGl2PjsgXG5cdFx0alF1ZXJ5KCcjY2xvY2snKS5odG1sKGVsZW1lbnQpO1xuXHR9O1xuXHRzZXRJbnRlcnZhbChyZW5kZXIsIDEwMDApO1xuXHRyZW5kZXIoKTtcbn07XG5cbmxldCBzaXRlID0gXG48aHRtbD5cblx0PGhlYWQ+XG5cdFx0PHRpdGxlPlwiVGlja2luZyBDbG9ja1wiOzwvdGl0bGU+O1xuXHQ8L2hlYWQ+O1xuXHQ8Ym9keSBvbmxvYWQ9Y2xvY2s+XG5cdFx0PGRpdiBpZD1cImNsb2NrXCIgLz47XG5cdDwvYm9keT47XG48L2h0bWw+OyJdfQ==