"use strict";require("core-js/modules/es7.symbol.async-iterator"),require("core-js/modules/es6.symbol"),require("core-js/modules/web.dom.iterable"),require("core-js/modules/es6.regexp.split"),require("core-js/modules/es6.regexp.replace"),require("core-js/modules/es6.regexp.match");function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var BacktickProcessor=function(){function a(b){_classCallCheck(this,a);var c=this;c.sp=b,c.state={inBacktick:!1,inBacktickExpr:!1,btString:"",exprBody:"",exprBraceDepth:0}}return _createClass(a,[{key:"lex",value:function r(a){var b=this,c=b.state;if("`"===a.yytext&&(c.inBacktick=!c.inBacktick),c.inBacktick){var s;c.btString="";for(var d=/^(?:([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\$\{((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*))/g,e=/^((?:[\0-z\|~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)(\{|\})((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)/g,f=/^((?:\\`|(?:[\0-_a-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?!\{))*)((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)/g;;){if(1>a._input.length&&(console.log("input exhausted."),process.exit()),c.inBacktickExpr){if(s=a._input.match(e),s){var g=e.exec(a._input),h=_slicedToArray(g,4),i=h[0],j=h[1],k=h[2],l=h[3];if(c.exprBody+=j,"{"===k)c.exprBraceDepth+=1,c.exprBody+="{";else if("}"===k)if(0<c.exprBraceDepth)c.exprBraceDepth-=1,c.exprBody+="}";else{c.inBacktickExpr=!1;var t=b.sp.traverse(b.sp.parse(c.exprBody+";")).translation.replace(/;$/,"");c.exprBody="",c.btString+=t+"}",c.inBacktick=!0}a._input=l,a.match=j+k,a.yytext+=a.match,a.matched+=a.match;continue}console.log("brace misalignment."),process.exit()}if(s=a._input.match(d),s){var m=d.exec(a._input),n=_slicedToArray(m,3),o=n[0],p=n[1],q=n[2];c.inBacktick=!1,c.inBacktickExpr=!0,c.exprBraceDepth=0,a._input=q,a.match=p+"${",a.yytext+=a.match,a.matched+=a.match,c.btString+=a.match;continue}if(s=a._input.match(f),s){if("`"===a._input[0]){a._input=a._input.substr(1),a.yytext+="`",a.match="`",a.matched+="`",c.inBacktick=!1;break}a._input=a._input.replace(f,function(b,c,d){var e=c.split("\n"),f=e.pop().length,g=e.length,h=a.yylloc.last_column;return 0<g?h=f:h+=f,a.yylloc={first_line:a.yylloc.last_line,first_column:a.yylloc.last_column,last_line:a.yylloc.last_line+g,last_column:h},a.match=c,a.matched+=a.match,d}),c.btString+=a.match,a.yytext+=a.match;continue}console.log("Backtick Processor in bad state."),process.exit()}return a.yy.scopeState.btString="`"+c.btString+"`",c.btString="","`"}return!1}}]),a}();module.exports=BacktickProcessor;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYWNrdGlja1Byb2Nlc3Nvci5qcyJdLCJuYW1lcyI6WyJCYWNrdGlja1Byb2Nlc3NvciIsInNwIiwic2VsZiIsInN0YXRlIiwiaW5CYWNrdGljayIsImluQmFja3RpY2tFeHByIiwiYnRTdHJpbmciLCJleHByQm9keSIsImV4cHJCcmFjZURlcHRoIiwiY3R4IiwieXl0ZXh0IiwiaW5wdXRNYXRjaCIsImJ0RXhwclJlZ2V4IiwiYnRFeHByQm9keVJlZ2V4IiwiYnRCb2R5UmVnZXgiLCJfaW5wdXQiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImV4aXQiLCJtYXRjaCIsImJ0RXhwckJvZHlNYXRjaCIsImV4ZWMiLCJvcmlnaW5hbCIsInByZWZpeCIsImJyYWNlIiwibGVmdG92ZXJzIiwibmV3RXhwclNyYyIsInRyYXZlcnNlIiwicGFyc2UiLCJ0cmFuc2xhdGlvbiIsInJlcGxhY2UiLCJtYXRjaGVkIiwiYnRFeHByTWF0Y2giLCJidEV4cHJPcmlnaW5hbCIsImJ0RXhwclNwYWNlcyIsImJ0RXhwckxlZnRvdmVycyIsInN1YnN0ciIsImxpbmVzIiwic3BsaXQiLCJwb3AiLCJuZXdsaW5lcyIsImNvbCIsInl5bGxvYyIsImxhc3RfY29sdW1uIiwiZmlyc3RfbGluZSIsImxhc3RfbGluZSIsImZpcnN0X2NvbHVtbiIsInl5Iiwic2NvcGVTdGF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJpckNBbUNNQSxDQUFBQSxpQixZQUNMLFdBQWFDLENBQWIsQ0FBaUIseUJBQ2hCLEdBQU1DLENBQUFBLENBQUksQ0FBRyxJQUFiLENBQ0FBLENBQUksQ0FBQ0QsRUFBTCxDQUFVQSxDQUZNLENBR2hCQyxDQUFJLENBQUNDLEtBQUwsQ0FBYSxDQUNaQyxVQUFVLEdBREUsQ0FFWkMsY0FBYyxHQUZGLENBR1pDLFFBQVEsQ0FBRSxFQUhFLENBSVpDLFFBQVEsQ0FBRSxFQUpFLENBS1pDLGNBQWMsQ0FBRSxDQUxKLENBT2IsQyxtREFFSUMsQyxDQUFLLElBQ0hQLENBQUFBLENBQUksQ0FBRyxJQURKLENBRUhDLENBQUssQ0FBR0QsQ0FBSSxDQUFDQyxLQUZWLENBWVQsR0FObUIsR0FBZixHQUFBTSxDQUFHLENBQUNDLE1BTVIsR0FIQ1AsQ0FBSyxDQUFDQyxVQUFOLENBQW1CLENBQUNELENBQUssQ0FBQ0MsVUFHM0IsRUFBSUQsQ0FBSyxDQUFDQyxVQUFWLENBQXNCLENBT3JCLEdBQUlPLENBQUFBLENBQUosQ0FHQVIsQ0FBSyxDQUFDRyxRQUFOLENBQWlCLEVBVkksUUFjakJNLENBQUFBLENBQVcsQ0FBRyx5TkFkRyxDQWdCakJDLENBQWUsQ0FBRyw4UkFoQkQsQ0FtQmpCQyxDQUFXLENBQUcsbVNBbkJHLEdBOEJULENBUVgsR0FKd0IsQ0FBcEIsQ0FBQUwsQ0FBRyxDQUFDTSxNQUFKLENBQVdDLE1BSWYsR0FIQ0MsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVosQ0FHRCxDQUZDQyxPQUFPLENBQUNDLElBQVIsRUFFRCxFQUFJakIsQ0FBSyxDQUFDRSxjQUFWLENBQTBCLENBS3pCLEdBREFNLENBQVUsQ0FBR0YsQ0FBRyxDQUFDTSxNQUFKLENBQVdNLEtBQVgsQ0FBaUJSLENBQWpCLENBQ2IsQ0FBSUYsQ0FBSixDQUFnQixJQUVYVyxDQUFBQSxDQUFlLENBQUdULENBQWUsQ0FBQ1UsSUFBaEIsQ0FBcUJkLENBQUcsQ0FBQ00sTUFBekIsQ0FGUCxrQkFTWE8sQ0FUVyxJQUtkRSxDQUxjLE1BTWRDLENBTmMsTUFPZEMsQ0FQYyxNQVFkQyxDQVJjLE1BYWYsR0FGQXhCLENBQUssQ0FBQ0ksUUFBTixFQUFrQmtCLENBRWxCLENBQWMsR0FBVixHQUFBQyxDQUFKLENBQ0N2QixDQUFLLENBQUNLLGNBQU4sRUFBd0IsQ0FEekIsQ0FFQ0wsQ0FBSyxDQUFDSSxRQUFOLEVBQWtCLEdBRm5CLEtBR08sSUFBYyxHQUFWLEdBQUFtQixDQUFKLENBQ04sR0FBMkIsQ0FBdkIsQ0FBQXZCLENBQUssQ0FBQ0ssY0FBVixDQUNDTCxDQUFLLENBQUNLLGNBQU4sRUFBd0IsQ0FEekIsQ0FFQ0wsQ0FBSyxDQUFDSSxRQUFOLEVBQWtCLEdBRm5CLEtBR08sQ0FDTkosQ0FBSyxDQUFDRSxjQUFOLEdBRE0sQ0FFTixHQUFJdUIsQ0FBQUEsQ0FBVSxDQUFHMUIsQ0FBSSxDQUFDRCxFQUFMLENBQVE0QixRQUFSLENBQ2hCM0IsQ0FBSSxDQUFDRCxFQUFMLENBQVE2QixLQUFSLENBQWMzQixDQUFLLENBQUNJLFFBQU4sQ0FBaUIsR0FBL0IsQ0FEZ0IsRUFFZndCLFdBRmUsQ0FFSEMsT0FGRyxDQUVLLElBRkwsQ0FFVyxFQUZYLENBQWpCLENBR0E3QixDQUFLLENBQUNJLFFBQU4sQ0FBaUIsRUFMWCxDQU1OSixDQUFLLENBQUNHLFFBQU4sRUFBa0JzQixDQUFVLENBQUcsR0FOekIsQ0FPTnpCLENBQUssQ0FBQ0MsVUFBTixHQUNBLENBRUZLLENBQUcsQ0FBQ00sTUFBSixDQUFhWSxDQTlCRSxDQStCZmxCLENBQUcsQ0FBQ1ksS0FBSixDQUFZSSxDQUFNLENBQUdDLENBL0JOLENBZ0NmakIsQ0FBRyxDQUFDQyxNQUFKLEVBQWNELENBQUcsQ0FBQ1ksS0FoQ0gsQ0FpQ2ZaLENBQUcsQ0FBQ3dCLE9BQUosRUFBZXhCLENBQUcsQ0FBQ1ksS0FqQ0osQ0FrQ2YsUUFDQSxDQUNESixPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixDQXpDeUIsQ0EwQ3pCQyxPQUFPLENBQUNDLElBQVIsRUFDQSxDQU9ELEdBSEFULENBQVUsQ0FBR0YsQ0FBRyxDQUFDTSxNQUFKLENBQVdNLEtBQVgsQ0FBaUJULENBQWpCLENBR2IsQ0FBSUQsQ0FBSixDQUFnQixJQUdYdUIsQ0FBQUEsQ0FBVyxDQUFHdEIsQ0FBVyxDQUFDVyxJQUFaLENBQWlCZCxDQUFHLENBQUNNLE1BQXJCLENBSEgsa0JBV1htQixDQVhXLElBT2RDLENBUGMsTUFRZEMsQ0FSYyxNQVVkQyxDQVZjLE1Bc0JmbEMsQ0FBSyxDQUFDQyxVQUFOLEdBdEJlLENBdUJmRCxDQUFLLENBQUNFLGNBQU4sR0F2QmUsQ0F3QmZGLENBQUssQ0FBQ0ssY0FBTixDQUF1QixDQXhCUixDQTBCZkMsQ0FBRyxDQUFDTSxNQUFKLENBQWFzQixDQTFCRSxDQTJCZjVCLENBQUcsQ0FBQ1ksS0FBSixDQUFZZSxDQUFZLENBQUcsSUEzQlosQ0E0QmYzQixDQUFHLENBQUNDLE1BQUosRUFBY0QsQ0FBRyxDQUFDWSxLQTVCSCxDQTZCZlosQ0FBRyxDQUFDd0IsT0FBSixFQUFleEIsQ0FBRyxDQUFDWSxLQTdCSixDQThCZmxCLENBQUssQ0FBQ0csUUFBTixFQUFrQkcsQ0FBRyxDQUFDWSxLQTlCUCxDQStCZixRQWdEQSxDQU9ELEdBSEFWLENBQVUsQ0FBR0YsQ0FBRyxDQUFDTSxNQUFKLENBQVdNLEtBQVgsQ0FBaUJQLENBQWpCLENBR2IsQ0FBSUgsQ0FBSixDQUFnQixDQUtmLEdBQXNCLEdBQWxCLEdBQUFGLENBQUcsQ0FBQ00sTUFBSixDQUFXLENBQVgsQ0FBSixDQUEyQixDQUUxQk4sQ0FBRyxDQUFDTSxNQUFKLENBQWFOLENBQUcsQ0FBQ00sTUFBSixDQUFXdUIsTUFBWCxDQUFrQixDQUFsQixDQUZhLENBRzFCN0IsQ0FBRyxDQUFDQyxNQUFKLEVBQWMsR0FIWSxDQUkxQkQsQ0FBRyxDQUFDWSxLQUFKLENBQVksR0FKYyxDQUsxQlosQ0FBRyxDQUFDd0IsT0FBSixFQUFlLEdBTFcsQ0FNMUI5QixDQUFLLENBQUNDLFVBQU4sR0FOMEIsQ0FXMUIsS0FDQSxDQUdESyxDQUFHLENBQUNNLE1BQUosQ0FBYU4sQ0FBRyxDQUFDTSxNQUFKLENBQVdpQixPQUFYLENBQW1CbEIsQ0FBbkIsQ0FBZ0MsU0FBQ1UsQ0FBRCxDQUFXSCxDQUFYLENBQWtCTSxDQUFsQixDQUFnQyxJQUN4RVksQ0FBQUEsQ0FBSyxDQUFHbEIsQ0FBSyxDQUFDbUIsS0FBTixDQUFZLElBQVosQ0FEZ0UsQ0FFeEV4QixDQUFNLENBQUd1QixDQUFLLENBQUNFLEdBQU4sR0FBWXpCLE1BRm1ELENBR3hFMEIsQ0FBUSxDQUFHSCxDQUFLLENBQUN2QixNQUh1RCxDQUl4RTJCLENBQUcsQ0FBR2xDLENBQUcsQ0FBQ21DLE1BQUosQ0FBV0MsV0FKdUQsQ0F3QjVFLE1BbEJlLEVBQVgsQ0FBQUgsQ0FrQkosQ0FqQkNDLENBQUcsQ0FBRzNCLENBaUJQLENBZkMyQixDQUFHLEVBQUkzQixDQWVSLENBWkFQLENBQUcsQ0FBQ21DLE1BQUosQ0FBYSxDQUNaRSxVQUFVLENBQUVyQyxDQUFHLENBQUNtQyxNQUFKLENBQVdHLFNBRFgsQ0FFWkMsWUFBWSxDQUFFdkMsQ0FBRyxDQUFDbUMsTUFBSixDQUFXQyxXQUZiLENBR1pFLFNBQVMsQ0FBRXRDLENBQUcsQ0FBQ21DLE1BQUosQ0FBV0csU0FBWCxDQUF1QkwsQ0FIdEIsQ0FJWkcsV0FBVyxDQUFFRixDQUpELENBWWIsQ0FKQWxDLENBQUcsQ0FBQ1ksS0FBSixDQUFZQSxDQUlaLENBSEFaLENBQUcsQ0FBQ3dCLE9BQUosRUFBZXhCLENBQUcsQ0FBQ1ksS0FHbkIsQ0FBT00sQ0FDUCxDQXpCWSxDQXBCRSxDQWlEZnhCLENBQUssQ0FBQ0csUUFBTixFQUFrQkcsQ0FBRyxDQUFDWSxLQWpEUCxDQWtEZlosQ0FBRyxDQUFDQyxNQUFKLEVBQWNELENBQUcsQ0FBQ1ksS0FsREgsQ0F5RGYsUUFDQSxDQUVESixPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWixDQTVNVyxDQTZNWEMsT0FBTyxDQUFDQyxJQUFSLEVBQ0EsQ0FVRCxNQUpBWCxDQUFBQSxDQUFHLENBQUN3QyxFQUFKLENBQU9DLFVBQVAsQ0FBa0I1QyxRQUFsQixDQUE2QixJQUFNSCxDQUFLLENBQUNHLFFBQVosQ0FBdUIsR0FJcEQsQ0FIQUgsQ0FBSyxDQUFDRyxRQUFOLENBQWlCLEVBR2pCLENBQU8sR0FDUCxDQUdELFFBQ0EsQyxTQUtGNkMsTUFBTSxDQUFDQyxPQUFQLENBQWlCcEQsaUIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQdXJwb3NlOlxuLy8gQXR0ZW1wdHMgdG8gaW50ZXJjZXB0IGJhY2t0aWNrIHN0cmluZ3MgKGApXG4vLyB0byBpbXBsZW1lbnQgaW50ZXJwb2xhdGlvbi5cblxuLy8gVXNhZ2U6XG4vLyBUbyBiZSBpbnN0YW50aWF0ZWQgaW4gU2NvcGVQYXJzZXIucGFyc2UoKS5cbi8vIFRoZSBgbGV4YCBtZXRob2QgaXMgdG8gYmUgdXNlZCB0byBpbnRlcmNlcHQgSklTT05cbi8vIG5hdGl2ZSBgcGFyc2VyLmxleGVyLmxleGAgbWV0aG9kLlxuXG4vLyBQcm9wZXJ0aWVzOlxuLy8gcGFyc2VyOiBbT2JqZWN0XSBSZWZlcmVuY2UgdG8gU2NvcGVQYXJzZXIgaW5zdGFuY2UuXG4vLyBcbi8vIHN0YXRlOiB7XG4vLyAgaW5CYWNrdGljazogW2Jvb2xdIEFyZSB3ZSBpbnNpZGUgYSBiYWNrdGljayBzdHJpbmc/IGAuLihoZXJlKS4uYFxuLy8gIGluQmFja3RpY2tFeHByOiBbYm9vbF0gQXJlIHdlIGluc2lkZSBhbiBpbnRlcnBvbGF0aW9uPyAkey4uKGhlcmUpLi59XG4vLyB9XG5cbi8vIE1ldGhvZHM6XG4vLyBjb25zdHJ1Y3RvciAoc3ApXG4vLyBcbi8vICBBcmd1bWVudHM6XG4vLyAgc3A6IFtPYmplY3RdIFJlZmVyZW5jZSB0byBTY29wZVBhcnNlclxuLy9cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBsZXggKGN0eClcbi8vXG4vLyAgQXJndW1lbnRzOlxuLy8gICBjdHg6IFtPYmplY3RdIFNob3VsZCByZWZlcmVuY2UgJ3RoaXMnIGZyb20gb3ZlcndyaXR0ZW4gXG4vLyAgICAgICAgJ3BhcnNlci5sZXhlci5sZXgnIG1ldGhvZC5cbi8vXG4vLyAgUmV0dXJuOiBbQm9vbF1cbi8vICAgW3RydWVdOiAgIEZvdW5kIGEgYmFja3RpY2stc3RyaW5nIGFuZCBkaWQgdGhlIHdvcmsuXG4vLyAgIFtmYWxzZV06ICBOb3QgYSBiYWNrdGljay1zdHJpbmcsIG5vdCBvdXIgam9iLlxuXG5jbGFzcyBCYWNrdGlja1Byb2Nlc3NvciB7XG5cdGNvbnN0cnVjdG9yIChzcCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYuc3AgPSBzcDtcblx0XHRzZWxmLnN0YXRlID0ge1xuXHRcdFx0aW5CYWNrdGljazogZmFsc2UsXG5cdFx0XHRpbkJhY2t0aWNrRXhwcjogZmFsc2UsXG5cdFx0XHRidFN0cmluZzogXCJcIixcblx0XHRcdGV4cHJCb2R5OiBcIlwiLFxuXHRcdFx0ZXhwckJyYWNlRGVwdGg6IDBcblx0XHR9O1xuXHR9XG5cblx0bGV4IChjdHgpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRjb25zdCBzdGF0ZSA9IHNlbGYuc3RhdGU7XG5cblx0XHQvL2NvbnNvbGUubG9nKFwiaW5CYWNrdGljazpcIiwgc3RhdGUuaW5CYWNrdGljayk7XG5cdFx0Ly8gTG9vayBmb3IgYCB0b2tlblxuXHRcdGlmIChjdHgueXl0ZXh0ID09PSBcImBcIikge1xuXHRcdFx0Ly8gU3dpdGNoIGluQmFja3RpY2sgZmxhZ1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcImZvdW5kIGA6IHN3YXBwaW5nIGluQmFja3RpY2tcIik7XG5cdFx0XHRzdGF0ZS5pbkJhY2t0aWNrID0gIXN0YXRlLmluQmFja3RpY2s7XG5cdFx0fVxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIGluc2lkZSBvZiBhIGJhY2t0aWNrIHN0cmluZzpcblx0XHRpZiAoc3RhdGUuaW5CYWNrdGljaykge1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcImluIGJhY2t0aWNrIHN0cmluZ1wiKTtcblx0XHRcdC8vY29uc29sZS5sb2coc3RhdGUpO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcInl5dGV4dDpcIiwgSlNPTi5zdHJpbmdpZnkoY3R4Lnl5dGV4dCkpO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcIl9pbnB1dDpcIiwgY3R4Ll9pbnB1dCk7XG5cdFx0XHQvL2NvbnNvbGUubG9nKFwibWF0Y2g6XCIsIGN0eC5tYXRjaCk7XG5cdFx0XHQvL2NvbnNvbGUubG9nKFwibWF0Y2hlZDpcIiwgY3R4Lm1hdGNoZWQpO1xuXHRcdFx0bGV0IGlucHV0TWF0Y2gsIHRlc3RNYXRjaDtcblxuXHRcdFx0Ly8gU2V0IGJ0U3RyaW5nIHRvIGFuIGVtcHR5IHN0cmluZy5cblx0XHRcdHN0YXRlLmJ0U3RyaW5nID0gXCJcIjtcblxuXHRcdFx0Ly8gUmVnRXhwIGZvciBleHByZXNzaW9uLXdyYXBwZXIgdG9rZW5zXG5cdFx0XHQvLyBUT0RPOiBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgJyR7Li57Li59Li59J1xuXHRcdFx0bGV0IGJ0RXhwclJlZ2V4ID0gL14oPzooXFxzKilcXCRcXHsoLiopKS9ndXM7XG5cblx0XHRcdGxldCBidEV4cHJCb2R5UmVnZXggPSAvXihbXlxce1xcfV0qKShcXHt8XFx9KSguKikvZ3VzO1xuXG5cdFx0XHQvLyBSZWdFeHAgZm9yIG5vbi1leHByZXNzaW9uLXdyYXBwZXIgdG9rZW5zXG5cdFx0XHRsZXQgYnRCb2R5UmVnZXggPSAvXigoPzpcXFxcYHxbXmBdKD8hXFx7KSkqKSguKikvZ3VzO1xuXG5cdFx0XHQvLyBCZWdpbiB3YWxraW5nIHNvdXJjZTpcblx0XHRcdC8vIFRoZSBnb2FsIGlzIHRvIHB1c2ggbm9uLWV4cHIgY2hhcnNcblx0XHRcdC8vIG9udG8gdGhlIHN0YWNrLCBhbmQgcHVzaCB0cmFuc2xhdGVkXG5cdFx0XHQvLyBleHByZXNzaW9ucyBpbiB0aGUgcGxhY2Ugb2Ygc291cmNlLWNvZGVcblx0XHRcdC8vIG9uIHRoZSBzdGFjay5cblx0XHRcdC8vIFRoZSByZXN1bHQgc2hvdWxkIGJlIGEgdmFsaWQgSmF2YVNjcmlwdFxuXHRcdFx0Ly8gYmFjay10aWNrIHN0cmluZyB3aXRoIHNlbWktb3B0aW1pc3RpY1xuXHRcdFx0Ly8gcGFyc2VkIHNvdXJjZS1jb2RlIHdpdGhpbi4gU3ludGF4IHNob3VsZFxuXHRcdFx0Ly8gYmUgY2hlY2tlZCwgYnV0IHJ1bnRpbWUgdmFsaWRpdHkgc2hvdWxkIG5vdC5cblx0XHRcdHdoaWxlKHRydWUpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcImxvb3BpbmcuLlwiKTtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcInl5dGV4dDpcIiwgSlNPTi5zdHJpbmdpZnkoY3R4Lnl5dGV4dCkpO1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKHN0YXRlKTtcblx0XHRcdFx0aWYgKGN0eC5faW5wdXQubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiaW5wdXQgZXhoYXVzdGVkLlwiKTtcblx0XHRcdFx0XHRwcm9jZXNzLmV4aXQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoc3RhdGUuaW5CYWNrdGlja0V4cHIpIHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwiaW4gYmFja3RpY2tFeHByOlwiKTtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwieXl0ZXh0OlwiLCBKU09OLnN0cmluZ2lmeShjdHgueXl0ZXh0KSk7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIl9pbnB1dDpcIiwgSlNPTi5zdHJpbmdpZnkoY3R4Ll9pbnB1dCkpO1xuXHRcdFx0XHRcdGlucHV0TWF0Y2ggPSBjdHguX2lucHV0Lm1hdGNoKGJ0RXhwckJvZHlSZWdleClcblx0XHRcdFx0XHRpZiAoaW5wdXRNYXRjaCkge1xuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcImZvdW5kIGJyYWNlXCIpO1xuXHRcdFx0XHRcdFx0bGV0IGJ0RXhwckJvZHlNYXRjaCA9IGJ0RXhwckJvZHlSZWdleC5leGVjKGN0eC5faW5wdXQpO1xuXG5cdFx0XHRcdFx0XHRsZXQgW1xuXHRcdFx0XHRcdFx0XHRvcmlnaW5hbCxcblx0XHRcdFx0XHRcdFx0cHJlZml4LFxuXHRcdFx0XHRcdFx0XHRicmFjZSxcblx0XHRcdFx0XHRcdFx0bGVmdG92ZXJzXG5cdFx0XHRcdFx0XHRdID0gYnRFeHByQm9keU1hdGNoO1xuXG5cdFx0XHRcdFx0XHRzdGF0ZS5leHByQm9keSArPSBwcmVmaXg7XG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwic3RhdGUgYm9keTpcIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuZXhwckJvZHkpKTtcblx0XHRcdFx0XHRcdGlmIChicmFjZSA9PT0gXCJ7XCIpIHtcblx0XHRcdFx0XHRcdFx0c3RhdGUuZXhwckJyYWNlRGVwdGggKz0gMTtcblx0XHRcdFx0XHRcdFx0c3RhdGUuZXhwckJvZHkgKz0gXCJ7XCI7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGJyYWNlID09PSBcIn1cIikge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RhdGUuZXhwckJyYWNlRGVwdGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGUuZXhwckJyYWNlRGVwdGggLT0gMTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZS5leHByQm9keSArPSBcIn1cIjtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZS5pbkJhY2t0aWNrRXhwciA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdGxldCBuZXdFeHByU3JjID0gc2VsZi5zcC50cmF2ZXJzZShcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGYuc3AucGFyc2Uoc3RhdGUuZXhwckJvZHkgKyBcIjtcIikgLy8gQWRkIHNlbWktY29sb24gdG8gZW5kIG9mIHNjb3BlIHNvdXJjZS5cblx0XHRcdFx0XHRcdFx0XHQpLnRyYW5zbGF0aW9uLnJlcGxhY2UoLzskLywgXCJcIik7ICAgLy8gUmVtb3ZlIHNlbWktY29sb24gZnJvbSBlbmQgb2YgSlMgY29kZS5cblx0XHRcdFx0XHRcdFx0XHRzdGF0ZS5leHByQm9keSA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGUuYnRTdHJpbmcgKz0gbmV3RXhwclNyYyArIFwifVwiO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlLmluQmFja3RpY2sgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjdHguX2lucHV0ID0gbGVmdG92ZXJzO1xuXHRcdFx0XHRcdFx0Y3R4Lm1hdGNoID0gcHJlZml4ICsgYnJhY2U7XG5cdFx0XHRcdFx0XHRjdHgueXl0ZXh0ICs9IGN0eC5tYXRjaDtcblx0XHRcdFx0XHRcdGN0eC5tYXRjaGVkICs9IGN0eC5tYXRjaDtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImJyYWNlIG1pc2FsaWdubWVudC5cIik7XG5cdFx0XHRcdFx0cHJvY2Vzcy5leGl0KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBc3NpZ24gaW5wdXRNYXRjaCB0aGUgUmVnRXhwIG1hdGNoIGZvciBhXG5cdFx0XHRcdC8vIGJhY2t0aWNrIGV4cHJlc3Npb24gYCR7Li59YFxuXHRcdFx0XHRpbnB1dE1hdGNoID0gY3R4Ll9pbnB1dC5tYXRjaChidEV4cHJSZWdleCk7XG5cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHJlc3VsdCBvZiB0aGF0IG1hdGNoIGlzIHRydXRoeVxuXHRcdFx0XHRpZiAoaW5wdXRNYXRjaCkge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJmb3VuZCBleHByIG1hdGNoXCIpO1xuXHRcdFx0XHRcdC8vIFdlIGhhdmUgYSBtYXRjaC0gZ2V0IGl0OlxuXHRcdFx0XHRcdGxldCBidEV4cHJNYXRjaCA9IGJ0RXhwclJlZ2V4LmV4ZWMoY3R4Ll9pbnB1dCk7XG5cblx0XHRcdFx0XHQvLyBTZXBlcmF0ZSB0aGUgY2FwdHVyZSBncm91cHMgaW50byA0IHZhcmlhYmxlcy5cblx0XHRcdFx0XHRsZXQgW1xuXHRcdFx0XHRcdFx0YnRFeHByT3JpZ2luYWwsXG5cdFx0XHRcdFx0XHRidEV4cHJTcGFjZXMsXG5cdFx0XHRcdFx0XHQvL2J0RXhwclNyYyxcblx0XHRcdFx0XHRcdGJ0RXhwckxlZnRvdmVyc1xuXHRcdFx0XHRcdF0gPSBidEV4cHJNYXRjaDtcblxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJidEV4cHJNYXRjaDpcIik7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIm9yaWdpbmFsOlwiLCBKU09OLnN0cmluZ2lmeShidEV4cHJPcmlnaW5hbCkpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJidEV4cHJTcGFjZXM6XCIsIEpTT04uc3RyaW5naWZ5KGJ0RXhwclNwYWNlcykpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJidEV4cHJTcmM6XCIsIEpTT04uc3RyaW5naWZ5KGJ0RXhwclNyYykpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJidEV4cHJMZWZ0b3ZlcnM6XCIsIEpTT04uc3RyaW5naWZ5KGJ0RXhwckxlZnRvdmVycykpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coKTtcblx0XHRcdFx0XHQvLyBTZXQgdGhlIHN0YXRlLlxuXHRcdFx0XHRcdC8vIFNpbmNlIHdlJ3JlIGxvb2tpbmcgZm9yIGV4cHJlc3Npb25zIG5vdyxcblx0XHRcdFx0XHQvLyB0dXJuIG9mZiBiYWNrLXRpY2sgcGFyc2luZy5cblx0XHRcdFx0XHRzdGF0ZS5pbkJhY2t0aWNrID0gZmFsc2U7XG5cdFx0XHRcdFx0c3RhdGUuaW5CYWNrdGlja0V4cHIgPSB0cnVlO1xuXHRcdFx0XHRcdHN0YXRlLmV4cHJCcmFjZURlcHRoID0gMDtcblxuXHRcdFx0XHRcdGN0eC5faW5wdXQgPSBidEV4cHJMZWZ0b3ZlcnM7XG5cdFx0XHRcdFx0Y3R4Lm1hdGNoID0gYnRFeHByU3BhY2VzICsgXCIke1wiO1xuXHRcdFx0XHRcdGN0eC55eXRleHQgKz0gY3R4Lm1hdGNoO1xuXHRcdFx0XHRcdGN0eC5tYXRjaGVkICs9IGN0eC5tYXRjaDtcblx0XHRcdFx0XHRzdGF0ZS5idFN0cmluZyArPSBjdHgubWF0Y2g7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHQvLyBDb252ZXJ0IHRoZSBTY29wZSBjb2RlIGludG8gSmF2YVNjcmlwdDpcblx0XHRcdFx0XHRsZXQgbmV3RXhwclNyYyA9IHNlbGYuc3AudHJhdmVyc2UoXG5cdFx0XHRcdFx0XHRzZWxmLnNwLnBhcnNlKGJ0RXhwclNyYyArIFwiO1wiKSAvLyBBZGQgc2VtaS1jb2xvbiB0byBlbmQgb2Ygc2NvcGUgc291cmNlLlxuXHRcdFx0XHRcdCkudHJhbnNsYXRpb24ucmVwbGFjZSgvOyQvLCBcIlwiKTsgICAvLyBSZW1vdmUgc2VtaS1jb2xvbiBmcm9tIGVuZCBvZiBKUyBjb2RlLlxuXG5cdFx0XHRcdFx0Ly8gRG9uZSBwYXJzaW5nIGV4cHJlc3Npb24sIFxuXHRcdFx0XHRcdC8vIHR1cm4gYmFjayBvbiBiYWNrLXRpY2sgcGFyc2luZyxcblx0XHRcdFx0XHRzdGF0ZS5pbkJhY2t0aWNrID0gdHJ1ZTtcblxuXHRcdFx0XHRcdC8vIFJlcGxhY2UgaW5wdXQgd2l0aCBuZXcgaW5wdXQsIHdoaWxlIHNldHRpbmcgdGhlIG1hdGNoLlxuXHRcdFx0XHRcdGN0eC5faW5wdXQgPSBjdHguX2lucHV0LnJlcGxhY2UoYnRFeHByUmVnZXgsICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCBsaW5lcyA9IGJ0RXhwclNyYy5zcGxpdChcIlxcblwiKTtcblx0XHRcdFx0XHRcdGxldCBsZW5ndGggPSBsaW5lcy5wb3AoKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRsZXQgbmV3bGluZXMgPSBsaW5lcy5sZW5ndGg7IFxuXHRcdFx0XHRcdFx0bGV0IGNvbCA9IGN0eC55eWxsb2MubGFzdF9jb2x1bW47XG5cblx0XHRcdFx0XHRcdGlmIChuZXdsaW5lcyA+IDApIHtcblx0XHRcdFx0XHRcdFx0Y29sID0gbGVuZ3RoO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29sICs9IGxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y3R4Lnl5bGxvYyA9IHtcblx0XHRcdFx0XHRcdFx0Zmlyc3RfbGluZTogY3R4Lnl5bGxvYy5sYXN0X2xpbmUsXG5cdFx0XHRcdFx0XHRcdGZpcnN0X2NvbHVtbjogY3R4Lnl5bGxvYy5sYXN0X2NvbHVtbixcblx0XHRcdFx0XHRcdFx0bGFzdF9saW5lOiBjdHgueXlsbG9jLmxhc3RfbGluZSArIG5ld2xpbmVzLFxuXHRcdFx0XHRcdFx0XHRsYXN0X2NvbHVtbjogY29sXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHQvLyBTZXQgbWF0Y2ggdG8gdGhlIHRyYW5zbGF0ZWQgZXhwcmVzc2lvbjpcblx0XHRcdFx0XHRcdGN0eC5tYXRjaCA9IGJ0RXhwclNwYWNlcyArICckeycgKyBidEV4cHJTcmMgKyAnfSc7XG5cdFx0XHRcdFx0XHRjdHgubWF0Y2hlZCArPSBjdHgubWF0Y2g7XG5cdFx0XHRcdFx0XHRzdGF0ZS5idFN0cmluZyArPSBidEV4cHJTcGFjZXMgKyAnJHsnICsgbmV3RXhwclNyYyArICd9Jztcblx0XHRcdFx0XHRcdC8vIFJldHVybiB3aGF0ZXZlciBpcyBsZWZ0b3ZlciBmcm9tIF9pbnB1dFxuXHRcdFx0XHRcdFx0Ly8gYWZ0ZXIgdGhlIG1hdGNoLlxuXHRcdFx0XHRcdFx0cmV0dXJuIGJ0RXhwckxlZnRvdmVycztcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIEFkZCB0aGlzIG1hdGNoIHRvIHl5dGV4dFxuXHRcdFx0XHRcdGN0eC55eXRleHQgKz0gY3R4Lm1hdGNoO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJzZXQgbWF0Y2ggdG8gZXhwciBhbmQgYWRqdXN0ZWQgaW5wdXQuXCIpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJtYXRjaDpcXG5gYGBcXG5cIiwgY3R4Lm1hdGNoLCBcIlxcbmBgYFwiKTtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwibWF0Y2hlZDpcXG5gYGBcXG5cIiwgY3R4Lm1hdGNoZWQsIFwiXFxuYGBgXCIpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJfaW5wdXQ6XFxuYGBgXFxuXCIsIGN0eC5faW5wdXQsIFwiXFxuYGBgXCIpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdCovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBc3NpZ24gaW5wdXRNYXRjaCB0aGUgUmVnRXhwIG1hdGNoIGZvciBhXG5cdFx0XHRcdC8vIG5vbi1leHByZXNzaW9uLlxuXHRcdFx0XHRpbnB1dE1hdGNoID0gY3R4Ll9pbnB1dC5tYXRjaChidEJvZHlSZWdleCk7XG5cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHJlc3VsdCBvZiB0aGF0IG1hdGNoIGlzIHRydXRoeVxuXHRcdFx0XHRpZiAoaW5wdXRNYXRjaCkge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJmb3VuZCBub24tZXhwcjpcIiwgSlNPTi5zdHJpbmdpZnkoY3R4Ll9pbnB1dCkpO1xuXHRcdFx0XHRcdC8vIElmIHRoZSBpbnB1dCBpcyBhIGJhY2t0aWNrLCBicmVhayB0aGUgbG9vcC5cblx0XHRcdFx0XHQvLyBOZXh0IHRpbWUgdGhlIGxleGVyIGdvZXMgYXJvdW5kLCBpdCBzaG91bGRcblx0XHRcdFx0XHQvLyBzZWUgdGhlICdgJyBhbmQgYWRqdXN0IHRoZSBzdGF0ZSBhY2NvcmRpbmdseS5cblx0XHRcdFx0XHRpZiAoY3R4Ll9pbnB1dFswXSA9PT0gXCJgXCIpIHtcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJmb3VuZCB0ZXJtaW5hdGluZyBgIGNoYXIsIGJyZWFraW5nIGxvb3AuXCIpO1xuXHRcdFx0XHRcdFx0Y3R4Ll9pbnB1dCA9IGN0eC5faW5wdXQuc3Vic3RyKDEpO1xuXHRcdFx0XHRcdFx0Y3R4Lnl5dGV4dCArPSBcImBcIjtcblx0XHRcdFx0XHRcdGN0eC5tYXRjaCA9IFwiYFwiO1xuXHRcdFx0XHRcdFx0Y3R4Lm1hdGNoZWQgKz0gXCJgXCI7XG5cdFx0XHRcdFx0XHRzdGF0ZS5pbkJhY2t0aWNrID0gZmFsc2U7XG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwieXl0ZXh0OlwiLCBKU09OLnN0cmluZ2lmeShjdHgueXl0ZXh0KSk7XG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwibWF0Y2g6XFxuYGBgXFxuXCIsIGN0eC5tYXRjaCwgXCJcXG5gYGBcIik7XG5cdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwibWF0Y2hlZDpcXG5gYGBcXG5cIiwgY3R4Lm1hdGNoZWQsIFwiXFxuYGBgXCIpO1xuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIl9pbnB1dDpcXG5gYGBcXG5cIiwgY3R4Ll9pbnB1dCwgXCJcXG5gYGBcIik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBSZXBsYWNlIGlucHV0IHdpdGggbmV3IGlucHV0LCB3aGlsZSBzZXR0aW5nIHRoZSBtYXRjaC5cblx0XHRcdFx0XHRjdHguX2lucHV0ID0gY3R4Ll9pbnB1dC5yZXBsYWNlKGJ0Qm9keVJlZ2V4LCAob3JpZ2luYWwsIG1hdGNoLCBsZWZ0b3ZlcnMpID0+IHtcblx0XHRcdFx0XHRcdGxldCBsaW5lcyA9IG1hdGNoLnNwbGl0KFwiXFxuXCIpO1xuXHRcdFx0XHRcdFx0bGV0IGxlbmd0aCA9IGxpbmVzLnBvcCgpLmxlbmd0aDtcblx0XHRcdFx0XHRcdGxldCBuZXdsaW5lcyA9IGxpbmVzLmxlbmd0aDsgXG5cdFx0XHRcdFx0XHRsZXQgY29sID0gY3R4Lnl5bGxvYy5sYXN0X2NvbHVtbjtcblxuXHRcdFx0XHRcdFx0aWYgKG5ld2xpbmVzID4gMCkge1xuXHRcdFx0XHRcdFx0XHRjb2wgPSBsZW5ndGg7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2wgKz0gbGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjdHgueXlsbG9jID0ge1xuXHRcdFx0XHRcdFx0XHRmaXJzdF9saW5lOiBjdHgueXlsbG9jLmxhc3RfbGluZSxcblx0XHRcdFx0XHRcdFx0Zmlyc3RfY29sdW1uOiBjdHgueXlsbG9jLmxhc3RfY29sdW1uLFxuXHRcdFx0XHRcdFx0XHRsYXN0X2xpbmU6IGN0eC55eWxsb2MubGFzdF9saW5lICsgbmV3bGluZXMsXG5cdFx0XHRcdFx0XHRcdGxhc3RfY29sdW1uOiBjb2xcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdC8vIFNldCBtYXRjaCB0byB0aGUgbm9uLWV4cHJlc3Npb24gY2hhcnNcblx0XHRcdFx0XHRcdGN0eC5tYXRjaCA9IG1hdGNoO1xuXHRcdFx0XHRcdFx0Y3R4Lm1hdGNoZWQgKz0gY3R4Lm1hdGNoO1xuXHRcdFx0XHRcdFx0Ly8gUmV0dXJuIHdoYXRldmVyIGlzIGxlZnRvdmVyIGZyb20gX2lucHV0XG5cdFx0XHRcdFx0XHQvLyBhZnRlciB0aGUgbWF0Y2guXG5cdFx0XHRcdFx0XHRyZXR1cm4gbGVmdG92ZXJzO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vIEFkZCB0aGlzIG1hdGNoIHRvIHRoZSBzdGF0ZS5idFN0cmluZy5cblxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJ5eXRleHQgKGJlZm9yZSk6XCIsIEpTT04uc3RyaW5naWZ5KGN0eC55eXRleHQpKTtcblx0XHRcdFx0XHRzdGF0ZS5idFN0cmluZyArPSBjdHgubWF0Y2g7XG5cdFx0XHRcdFx0Y3R4Lnl5dGV4dCArPSBjdHgubWF0Y2g7XG5cblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwic2V0IG1hdGNoIHRvIG5vbi1leHByIGFuZCBhZGp1c3RlZCBpbnB1dC5cIik7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcInl5dGV4dCAoYWZ0ZXIpOlwiLCBKU09OLnN0cmluZ2lmeShjdHgueXl0ZXh0KSk7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIm1hdGNoOlxcbmBgYFxcblwiLCBjdHgubWF0Y2gsIFwiXFxuYGBgXCIpO1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJtYXRjaGVkOlxcbmBgYFxcblwiLCBjdHgubWF0Y2hlZCwgXCJcXG5gYGBcIik7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcIl9pbnB1dDpcXG5gYGBcXG5cIiwgY3R4Ll9pbnB1dCwgXCJcXG5gYGBcIik7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkJhY2t0aWNrIFByb2Nlc3NvciBpbiBiYWQgc3RhdGUuXCIpO1xuXHRcdFx0XHRwcm9jZXNzLmV4aXQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBiU3RyaW5nIHRvIHRoZSBmaW5hbCBtYXRjaC5cblx0XHRcdC8vIFN1cnJvdW5kIGJhY2t0aWNrcyBiZWNhc2Ugd2UgYXRlIHRoZW0gXG5cdFx0XHQvLyBkdXJpbmcgdGhlIGxleC5cblx0XHRcdC8vY29uc29sZS5sb2coXCJzZXR0aW5nIGJ0U3RyaW5nOlwiLCBzdGF0ZS5idFN0cmluZyk7XG5cdFx0XHRjdHgueXkuc2NvcGVTdGF0ZS5idFN0cmluZyA9IFwiYFwiICsgc3RhdGUuYnRTdHJpbmcgKyBcImBcIjtcblx0XHRcdHN0YXRlLmJ0U3RyaW5nID0gXCJcIjtcblxuXHRcdFx0Ly8gUmV0dXJuIHRoZSAnYCcgdG8gdGVsbCBKaXNvbiB0aGlzIGJ0U3RyaW5nIGlzIGRvbmUuXG5cdFx0XHRyZXR1cm4gJ2AnO1xuXHRcdH1cblxuXHRcdC8vIE11c3Qgbm90IGhhdmUgZG9uZSBhbnl0aGluZywgcmV0dXJuIGZhbHNlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYWNrdGlja1Byb2Nlc3NvcjsiXX0=